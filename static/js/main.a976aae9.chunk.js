(window["webpackJsonpfinding-giphy"]=window["webpackJsonpfinding-giphy"]||[]).push([[0],{34:function(e,t,a){},50:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),i=(a(34),a(11)),o=a(95),u=a(92),s=a(30),m=a.n(s),d=a(35),p=a(94),f=a(96),v=a(93),h=function(e){var t=e.searchTerm,a=e.searchType,n=l.a.useRef(null),r=l.a.useRef(null),c=l.a.useState([]),s=Object(i.a)(c,2),h=s[0],g=s[1],E=l.a.useState(!1),b=Object(i.a)(E,2),y=b[0],k=b[1],w=l.a.useState(!1),S=Object(i.a)(w,2),C=S[0],O=S[1],j=l.a.useState([]),x=Object(i.a)(j,2),R=x[0],P=x[1],T=l.a.useState(0),I=Object(i.a)(T,2),_=I[0],F=I[1],G=l.a.useState(0),M=Object(i.a)(G,2),W=M[0],J=M[1],L=l.a.useState(null),U=Object(i.a)(L,2),B=U[0],H=U[1],V=new URLSearchParams({api_key:"p56JOFtV16X5lGBOZEAPQ0iPeo04w1Le",q:"".concat(t),limit:"".concat(W?W.toString():"20"),offset:B||Math.floor(1e3*Math.random()).toString()}),q=function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,l,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,fetch("https://api.giphy.com/v1/".concat(t,"/search?").concat(V),{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:l=e.sent,r=[],200===(null===l||void 0===l||null===(a=l.meta)||void 0===a?void 0:a.status)?l.pagination.count>0?(O(!1),F(l.pagination.total_count),J(l.pagination.count),H(l.pagination.offset),g(l.data)):r.push("Result not found!"):r.push(null===l||void 0===l||null===(c=l.meta)||void 0===c?void 0:c.msg),P(r),r.length>0&&console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return l.a.useEffect((function(){q(a)}),[y]),l.a.createElement("div",null,R.length>0&&R.map((function(e){return l.a.createElement(f.a,{severity:"error",style:{padding:"2vh",margin:"3vh 0"}},e)})),h.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Result (",l.a.createElement("span",null,_," ",a),")"),l.a.createElement("h3",null,l.a.createElement("p",null,"Limit: ",W," results"),l.a.createElement("p",null,"Set new limit:",l.a.createElement(o.a,{type:"number",InputProps:{inputProps:{min:1,max:25}},helperText:"Hint: 1 - 25",inputRef:r,defaultValue:W}),l.a.createElement(u.a,{onClick:function(){var e;J(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.value)}},"Update limit")),l.a.createElement("p",null,"Current offset: ",B),l.a.createElement("p",null,"Set new offset:",l.a.createElement(o.a,{type:"number",inputRef:n,InputProps:{inputProps:{min:0,max:_-1}}}),l.a.createElement(u.a,{onClick:function(){var e;H(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.value)}},"Update offset"))),l.a.createElement(u.a,{style:{backgroundColor:"rgba(0,0,0,0.1)",color:"white"},fullWidth:!0,onClick:function(){H(null)}},"Clear current offset"),l.a.createElement(u.a,{style:{backgroundColor:"rgba(0,0,0,0.5)",color:"white"},fullWidth:!0,onClick:function(){k(!y)}},"Refresh"),l.a.createElement(v.a,{style:{margin:"5vh"}}),C?l.a.createElement("div",null,l.a.createElement(p.a,null),l.a.createElement(p.a,{animation:!1}),l.a.createElement(p.a,{animation:"wave"})):l.a.createElement("div",null,h&&h.map((function(e,t){var a,n;return l.a.createElement("span",{key:t},l.a.createElement("a",{target:"_blank",href:null===e||void 0===e?void 0:e.url},l.a.createElement("img",{src:null===e||void 0===e||null===(a=e.images)||void 0===a||null===(n=a.fixed_height_downsampled)||void 0===n?void 0:n.url,height:"200px",alt:"".concat(t)})))})))))},g=function(){var e=l.a.useState(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=l.a.useState(!1),c=Object(i.a)(r,2),s=c[0],m=c[1],d=l.a.useState(""),p=Object(i.a)(d,2),f=p[0],v=p[1],g=l.a.useRef(null),E=function(){var e;m(!0),n(null===g||void 0===g||null===(e=g.current)||void 0===e?void 0:e.value)};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(o.a,{type:"text",label:"What are you looking for?",fullWidth:!0,variant:"filled",inputRef:g,onChange:function(){m(!1)},onKeyPress:function(e){var t=["gifs","stickers"],a=Math.floor(Math.random()*t.length);"Enter"===e.key&&(v(t[a]),E())}})),l.a.createElement("div",{style:{marginTop:"2vh"}},l.a.createElement(u.a,{style:{width:"50%",padding:"2vh",backgroundColor:"".concat("gifs"===f?"rgba(255, 204, 0, 1)":"rgba(255,255,255,0.5)")},onClick:function(){v("gifs"),E()}},"Search GIFs"),l.a.createElement(u.a,{style:{width:"50%",padding:"2vh",backgroundColor:"".concat("stickers"===f?"rgba(255, 204, 0, 1)":"rgba(255,255,255,0.5)")},onClick:function(){v("stickers"),E()}},"Search Stickers"))),s&&l.a.createElement(h,{searchTerm:a,searchType:f}))},E=function(){return l.a.createElement("div",{className:"giphy-body"},l.a.createElement("h1",null,"Finding GIPHY!"),l.a.createElement(g,null))},b=document.getElementById("app");c.a.render(l.a.createElement(E,null),b)}},[[50,1,2]]]);
//# sourceMappingURL=main.a976aae9.chunk.js.map